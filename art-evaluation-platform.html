<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700;800&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #8B4566;
            --primary-light: #A85C7A;
            --secondary: #6B8B7E;
            --accent: #D4A574;
            --bg-cream: #F5F0E8;
            --bg-light: #FAF7F2;
            --text-dark: #2C1810;
            --text-medium: #5C4A3A;
            --shadow: rgba(139, 69, 102, 0.15);
            --success: #7BA05B;
            --warning: #E8A05D;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--bg-cream);
            color: var(--text-dark);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(135deg, rgba(139, 69, 102, 0.03) 0%, transparent 60%),
                linear-gradient(45deg, rgba(107, 139, 126, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .art-bg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.035;
            background-image: 
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"><path d="M300,150 Q350,100 400,150 T500,150" fill="none" stroke="%238B4566" stroke-width="2"/><circle cx="200" cy="400" r="80" fill="none" stroke="%236B8B7E" stroke-width="2"/><path d="M600,300 L650,250 L700,300 L650,350 Z" fill="none" stroke="%23D4A574" stroke-width="2"/></svg>');
            background-size: 800px 600px;
            background-repeat: repeat;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            padding: 30px 0;
            box-shadow: 0 8px 32px var(--shadow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 15s infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(50px, 50px) rotate(180deg); }
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            transform: rotate(-5deg);
            transition: transform 0.3s ease;
        }

        .logo-icon:hover {
            transform: rotate(0deg) scale(1.1);
        }

        .logo-text h1 {
            font-family: 'Amiri', serif;
            color: white;
            font-size: 32px;
            font-weight: 700;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
        }

        .logo-text p {
            color: rgba(255,255,255,0.9);
            font-size: 14px;
            font-weight: 300;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.2);
            padding: 12px 24px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
        }

        .user-details h3 {
            color: white;
            font-size: 16px;
            font-weight: 600;
        }

        .user-details p {
            color: rgba(255,255,255,0.8);
            font-size: 13px;
        }

        .logout-btn {
            background: white;
            color: var(--primary);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .main-content {
            padding: 50px 0;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-container {
            max-width: 500px;
            margin: 100px auto;
            background: white;
            padding: 50px;
            border-radius: 24px;
            box-shadow: 0 20px 60px var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .auth-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        .auth-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .auth-header h2 {
            font-family: 'Amiri', serif;
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .auth-header p {
            color: var(--text-medium);
            font-size: 15px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #E8E4DC;
            border-radius: 12px;
            font-family: 'Cairo', sans-serif;
            font-size: 15px;
            transition: all 0.3s ease;
            background: var(--bg-light);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 4px rgba(139, 69, 102, 0.1);
        }

        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-family: 'Cairo', sans-serif;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 8px 24px var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px var(--shadow);
        }

        .btn-secondary {
            background: var(--bg-light);
            color: var(--text-dark);
            border: 2px solid #E8E4DC;
            margin-top: 15px;
        }

        .btn-secondary:hover {
            background: white;
            border-color: var(--primary);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px var(--shadow);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .stat-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .stat-value {
            font-size: 42px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 16px;
            color: var(--text-medium);
            font-weight: 500;
        }

        .upload-section {
            background: white;
            padding: 50px;
            border-radius: 24px;
            box-shadow: 0 12px 48px var(--shadow);
            margin-bottom: 40px;
        }

        .upload-zone {
            border: 3px dashed var(--primary);
            border-radius: 20px;
            padding: 60px;
            text-align: center;
            background: linear-gradient(135deg, rgba(139, 69, 102, 0.03) 0%, rgba(107, 139, 126, 0.03) 100%);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .upload-zone:hover {
            border-color: var(--primary-light);
            background: linear-gradient(135deg, rgba(139, 69, 102, 0.08) 0%, rgba(107, 139, 126, 0.08) 100%);
        }

        .upload-zone.dragover {
            border-color: var(--accent);
            background: rgba(212, 165, 116, 0.1);
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .upload-text h3 {
            font-family: 'Amiri', serif;
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .upload-text p {
            color: var(--text-medium);
            font-size: 15px;
        }

        .file-input {
            display: none;
        }

        .preview-container {
            margin-top: 30px;
            display: none;
        }

        .preview-container.active {
            display: block;
        }

        .image-preview {
            max-width: 100%;
            border-radius: 16px;
            box-shadow: 0 12px 40px var(--shadow);
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-light);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            display: none;
        }

        .progress-bar.active {
            display: block;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .artworks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .artwork-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 32px var(--shadow);
            transition: all 0.4s ease;
            position: relative;
        }

        .artwork-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 48px var(--shadow);
        }

        .artwork-image {
            width: 100%;
            height: 280px;
            object-fit: cover;
            display: block;
        }

        .artwork-content {
            padding: 25px;
        }

        .artwork-title {
            font-family: 'Amiri', serif;
            font-size: 22px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .artwork-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 13px;
            color: var(--text-medium);
        }

        .lesson-tag {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .score-display {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 16px;
            margin: 20px 0;
        }

        .score-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .total-score {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-label {
            font-size: 14px;
            color: var(--text-medium);
            font-weight: 600;
        }

        .criteria-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .criterion {
            background: white;
            padding: 15px;
            border-radius: 12px;
            border-right: 4px solid var(--primary);
        }

        .criterion-name {
            font-size: 13px;
            color: var(--text-medium);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .criterion-score {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .feedback-section {
            background: linear-gradient(135deg, rgba(139, 69, 102, 0.05), rgba(107, 139, 126, 0.05));
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            border-right: 4px solid var(--accent);
        }

        .feedback-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-text {
            line-height: 1.8;
            color: var(--text-dark);
            font-size: 15px;
        }

        .comments-section {
            margin-top: 30px;
        }

        .comment-form {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
        }

        .comment-form textarea {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #E8E4DC;
            border-radius: 12px;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            resize: vertical;
        }

        .comment-item {
            background: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 15px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.05);
            border-right: 3px solid var(--accent);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .comment-author {
            font-weight: 700;
            color: var(--primary);
            font-size: 15px;
        }

        .comment-date {
            font-size: 12px;
            color: var(--text-medium);
        }

        .comment-text {
            line-height: 1.7;
            color: var(--text-dark);
            font-size: 14px;
        }

        .guidelines {
            background: linear-gradient(135deg, rgba(123, 160, 91, 0.1), rgba(212, 165, 116, 0.1));
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-right: 4px solid var(--success);
        }

        .guidelines h4 {
            color: var(--success);
            margin-bottom: 12px;
            font-size: 16px;
            font-weight: 700;
        }

        .guidelines ul {
            list-style: none;
            padding-right: 0;
        }

        .guidelines li {
            padding: 8px 0;
            color: var(--text-dark);
            font-size: 14px;
            position: relative;
            padding-right: 25px;
        }

        .guidelines li::before {
            content: 'âœ“';
            position: absolute;
            right: 0;
            color: var(--success);
            font-weight: 700;
        }

        .teacher-dashboard {
            margin-top: 30px;
        }

        .filter-bar {
            background: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 4px 16px var(--shadow);
            margin-bottom: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .student-work-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px var(--shadow);
        }

        .work-header {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .work-image-container {
            position: relative;
        }

        .work-image {
            width: 100%;
            border-radius: 16px;
            box-shadow: 0 8px 24px var(--shadow);
        }

        .work-info h3 {
            font-family: 'Amiri', serif;
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .info-row {
            display: flex;
            gap: 15px;
            margin-bottom: 12px;
            font-size: 15px;
        }

        .info-label {
            font-weight: 700;
            color: var(--text-medium);
            min-width: 100px;
        }

        .info-value {
            color: var(--text-dark);
        }

        .teacher-evaluation-form {
            background: var(--bg-light);
            padding: 30px;
            border-radius: 16px;
            margin-top: 30px;
        }

        .quick-notes {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .quick-note-btn {
            padding: 10px 18px;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .quick-note-btn:hover {
            background: var(--primary);
            color: white;
        }

        .certificate {
            background: linear-gradient(135deg, white, var(--bg-light));
            border: 8px solid var(--primary);
            border-radius: 24px;
            padding: 60px;
            text-align: center;
            box-shadow: 0 20px 60px var(--shadow);
            max-width: 800px;
            margin: 50px auto;
            position: relative;
            overflow: hidden;
        }

        .certificate::before {
            content: 'ğŸ¨';
            position: absolute;
            font-size: 200px;
            opacity: 0.05;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .certificate-header {
            font-family: 'Amiri', serif;
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 30px;
            font-weight: 700;
        }

        .certificate-body {
            font-size: 24px;
            line-height: 1.8;
            color: var(--text-dark);
            margin: 30px 0;
        }

        .certificate-name {
            font-size: 42px;
            font-weight: 800;
            color: var(--accent);
            margin: 20px 0;
        }

        .certificate-footer {
            margin-top: 50px;
            display: flex;
            justify-content: space-around;
        }

        .signature {
            text-align: center;
        }

        .signature-line {
            width: 200px;
            height: 2px;
            background: var(--primary);
            margin: 20px auto 10px;
        }

        .alert {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-size: 15px;
            font-weight: 600;
            text-align: center;
        }

        .alert-success {
            background: linear-gradient(135deg, rgba(123, 160, 91, 0.2), rgba(123, 160, 91, 0.1));
            color: var(--success);
            border: 2px solid var(--success);
        }

        .alert-info {
            background: linear-gradient(135deg, rgba(107, 139, 126, 0.2), rgba(107, 139, 126, 0.1));
            color: var(--secondary);
            border: 2px solid var(--secondary);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-family: 'Amiri', serif;
            font-size: 28px;
            color: var(--primary);
        }

        .close-modal {
            font-size: 32px;
            cursor: pointer;
            color: var(--text-medium);
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: var(--primary);
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .artworks-grid {
                grid-template-columns: 1fr;
            }

            .work-header {
                grid-template-columns: 1fr;
            }

            .criteria-grid {
                grid-template-columns: 1fr;
            }

            .auth-container {
                padding: 30px 20px;
                margin: 50px 20px;
            }

            .certificate {
                padding: 40px 20px;
            }

            .certificate-header {
                font-size: 32px;
            }

            .certificate-body {
                font-size: 18px;
            }
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-state-icon {
            font-size: 120px;
            opacity: 0.3;
            margin-bottom: 20px;
        }

        .empty-state-text {
            font-size: 20px;
            color: var(--text-medium);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="art-bg"></div>

    <!-- ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© / Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="loginPage" class="page active">
        <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ±Ø­ÙŠØ¨ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <div style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); padding: 80px 0; position: relative; overflow: hidden;">
            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.1; background-image: url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 800 600%22%3E%3Cpath d=%22M300,150 Q350,100 400,150 T500,150%22 fill=%22none%22 stroke=%22white%22 stroke-width=%222%22/%3E%3Ccircle cx=%22200%22 cy=%22400%22 r=%2280%22 fill=%22none%22 stroke=%22white%22 stroke-width=%222%22/%3E%3C/svg%3E'); background-size: cover;"></div>
            <div class="container" style="position: relative; z-index: 1;">
                <div style="text-align: center; color: white;">
                    <div style="font-size: 80px; margin-bottom: 20px; animation: bounce 2s infinite;">ğŸ¨</div>
                    <h1 style="font-family: 'Amiri', serif; font-size: 56px; margin-bottom: 20px; text-shadow: 2px 2px 10px rgba(0,0,0,0.3);">
                        Ù…Ù†ØµØ© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©
                    </h1>
                    <p style="font-size: 24px; opacity: 0.95; max-width: 800px; margin: 0 auto 30px; line-height: 1.8; text-shadow: 1px 1px 5px rgba(0,0,0,0.2);">
                        Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¨ÙŠØ¦Ø© ÙÙ†ÙŠØ© Ù…Ø­ÙØ²Ø© ÙˆØ¢Ù…Ù†Ø© Ø­ÙŠØ« ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø§Ù„ÙÙ†ÙŠØ©ØŒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ… Ø°ÙƒÙŠ ÙÙˆØ±ÙŠØŒ 
                        Ù…Ø´Ø§Ø±ÙƒØ© Ø¥Ø¨Ø¯Ø§Ø¹Ø§ØªÙƒ Ù…Ø¹ Ø²Ù…ÙŠÙ„Ø§ØªÙƒØŒ ÙˆØ§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡Ø©
                    </p>
                    <div style="display: flex; gap: 20px; justify-content: center; margin-top: 40px;">
                        <button onclick="scrollToLogin()" class="btn btn-primary" style="background: white; color: var(--primary); padding: 18px 40px; font-size: 18px; box-shadow: 0 8px 30px rgba(0,0,0,0.3);">
                            ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ğŸ”
                        </button>
                        <button onclick="scrollToGallery()" class="btn btn-secondary" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 18px 40px; font-size: 18px; backdrop-filter: blur(10px);">
                            Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ğŸ–¼ï¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ù‚Ø³Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <div id="loginSection" style="padding: 60px 0;">
            <div class="auth-container" style="margin: 0 auto;">
                <div class="auth-header">
                    <div style="font-size: 64px; margin-bottom: 20px;">âœ¨</div>
                    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                    <p>Ø§Ø¯Ø®Ù„ÙŠ Ø¨Ø§Ø³Ù…Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØ§Ø¨Ø¯Ø¦ÙŠ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ÙÙ†ÙŠØ©</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="loginUsername" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø±ÙŠÙ… Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯" required>
                    </div>
                    <div class="form-group">
                        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="loginPassword" placeholder="Ø§Ø®ØªØ§Ø±ÙŠ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø³Ù‡Ù„Ø© Ø§Ù„ØªØ°ÙƒØ±" required>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(139, 69, 102, 0.1), rgba(107, 139, 126, 0.1)); padding: 15px; border-radius: 12px; margin-bottom: 20px; border-right: 3px solid var(--primary);">
                        <p style="font-size: 13px; color: var(--text-dark); line-height: 1.6; margin: 0;">
                            ğŸ’¡ <strong>Ù„Ù„Ø·Ø§Ù„Ø¨Ø§Øª:</strong> Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„<br>
                            ğŸ‘©â€ğŸ« <strong>Ù„Ù„Ù…Ø¹Ù„Ù…Ø©:</strong> Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: Ù…Ø¹Ù„Ù…Ø© | ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: 1234
                        </p>
                    </div>
                    <button type="submit" class="btn btn-primary">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                    <button type="button" class="btn btn-secondary" onclick="showPage('registerPage')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</button>
                    <button type="button" onclick="resetSystem()" style="margin-top: 20px; padding: 10px; background: #e74c3c; color: white; border: none; border-radius: 8px; cursor: pointer; width: 100%; font-family: 'Cairo', sans-serif; font-size: 13px;">
                        ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù… (ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ù…Ø´Ø§ÙƒÙ„)
                    </button>
                </form>
            </div>
        </div>

        <!-- Ù‚Ø³Ù… Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ -->
        <div id="gallerySection" style="background: var(--bg-light); padding: 80px 0;">
            <div class="container">
                <div style="text-align: center; margin-bottom: 50px;">
                    <h2 style="font-family: 'Amiri', serif; font-size: 48px; color: var(--primary); margin-bottom: 20px;">
                        ğŸ–¼ï¸ Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©
                    </h2>
                    <p style="font-size: 18px; color: var(--text-medium); max-width: 700px; margin: 0 auto;">
                        Ø§Ø³ØªÙƒØ´ÙÙŠ Ø¥Ø¨Ø¯Ø§Ø¹Ø§Øª Ø²Ù…ÙŠÙ„Ø§ØªÙƒØŒ Ø´Ø§Ø±ÙƒÙŠ Ø¨Ø±Ø£ÙŠÙƒ Ø§Ù„Ø¨Ù†Ø§Ø¡ØŒ ÙˆØªØ¹Ù„Ù…ÙŠ Ù…Ù† ØªØ¬Ø§Ø±Ø¨Ù‡Ù† Ø§Ù„ÙÙ†ÙŠØ©
                    </p>
                </div>

                <!-- Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ -->
                <div class="guidelines" style="max-width: 900px; margin: 0 auto 40px;">
                    <h4 style="font-size: 20px; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span>ğŸŒŸ</span> Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø¨Ù†Ø§Ø¡
                    </h4>
                    <ul style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <li>ÙƒÙˆÙ†ÙŠ Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙˆÙ…Ø´Ø¬Ø¹Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹</li>
                        <li>Ø§Ø¨Ø¯Ø¦ÙŠ Ø¨Ø°ÙƒØ± Ù…Ø§ Ø£Ø¹Ø¬Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„</li>
                        <li>Ù‚Ø¯Ù…ÙŠ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†Ø§Ø¡Ø© ÙˆÙ„ÙŠØ³ Ø§Ù†ØªÙ‚Ø§Ø¯Ø§Øª Ø¬Ø§Ø±Ø­Ø©</li>
                        <li>Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ù„ØºØ© Ù…Ø­ØªØ±Ù…Ø© ÙˆÙ„Ø·ÙŠÙØ©</li>
                        <li>Ø±ÙƒØ²ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙÙ†ÙŠ ÙˆÙ„ÙŠØ³ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø®Øµ</li>
                        <li>Ø´Ø§Ø±ÙƒÙŠ Ù…Ø§ ØªØ¹Ù„Ù…ØªÙŠÙ‡ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„</li>
                    </ul>
                </div>

                <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ -->
                <div id="publicGallery" class="artworks-grid"></div>

                <div id="emptyGallery" class="empty-state" style="display: none;">
                    <div class="empty-state-icon">ğŸ¨</div>
                    <div class="empty-state-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø¨Ø¹Ø¯</div>
                    <p style="color: var(--text-medium); margin-top: 10px;">Ø³Ø¬Ù„ÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ø±ÙØ¹ÙŠ Ø£ÙˆÙ„ Ø¹Ù…Ù„ ÙÙ†ÙŠ! âœ¨</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div id="registerPage" class="page">
        <div class="auth-container">
            <div class="auth-header">
                <div style="font-size: 64px; margin-bottom: 20px;">âœ¨</div>
                <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                <p>Ø§Ù†Ø¶Ù…ÙŠ Ø¥Ù„Ù‰ Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„ÙÙ†Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ø¯Ø¹Ø§Øª</p>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="regFullName" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„ØµÙ / Ø§Ù„Ø´Ø¹Ø¨Ø©</label>
                    <input type="text" id="regClass" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø± - Ø£" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="regUsername" required>
                </div>
                <div class="form-group">
                    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="regPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
                <button type="button" class="btn btn-secondary" onclick="showPage('loginPage')">Ù„Ø¯ÙŠ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„</button>
            </form>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø§Ù„Ø¨Ø© -->
    <div id="studentDashboard" class="page">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-icon">ğŸ¨</div>
                        <div class="logo-text">
                            <h1>Ù…Ù†ØµØ© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©</h1>
                            <p>Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© ØªØ¨Ø¯Ø£ Ù‡Ù†Ø§</p>
                        </div>
                    </div>
                    <div class="user-info">
                        <div class="user-avatar" id="studentAvatar">Ù…</div>
                        <div class="user-details">
                            <h3 id="studentName">Ù…Ø±ÙŠÙ… Ø£Ø­Ù…Ø¯</h3>
                            <p id="studentClass">Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø± - Ø£</p>
                        </div>
                        <button class="logout-btn" onclick="goToStudentHome()" style="margin-left: 10px;">
                            ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        </button>
                        <button class="logout-btn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
                    </div>
                </div>
            </div>
        </header>

        <div class="container main-content">
            <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© -->
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <div class="stat-value" id="totalWorks">0</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â­</div>
                    <div class="stat-value" id="avgScore">0%</div>
                    <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ†</div>
                    <div class="stat-value" id="certificates">0</div>
                    <div class="stat-label">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©</div>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø±ÙØ¹ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <div class="upload-section">
                <h2 style="font-family: 'Amiri', serif; font-size: 32px; color: var(--primary); margin-bottom: 30px; text-align: center;">
                    Ø±ÙØ¹ Ø¹Ù…Ù„ ÙÙ†ÙŠ Ø¬Ø¯ÙŠØ¯ ğŸ–Œï¸
                </h2>
                <form id="uploadForm">
                    <div class="form-group">
                        <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù…Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="text" id="artworkTitle" placeholder="Ø£Ø¯Ø®Ù„ÙŠ Ø¹Ù†ÙˆØ§Ù†Ø§Ù‹ Ù…Ø¹Ø¨Ø±Ø§Ù‹ Ù„Ø¹Ù…Ù„Ùƒ Ø§Ù„ÙÙ†ÙŠ">
                    </div>
                    <div class="form-group">
                        <label>Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø³</label>
                        <select id="lessonType" required>
                            <option value="">Ø§Ø®ØªØ§Ø±ÙŠ Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø³</option>
                            <option value="portrait">Ø¨ÙˆØ±ØªØ±ÙŠÙ‡</option>
                            <option value="still-life">Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©</option>
                            <option value="landscape">Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ</option>
                            <option value="abstract">ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ</option>
                            <option value="calligraphy">Ø®Ø· Ø¹Ø±Ø¨ÙŠ</option>
                            <option value="other">Ø£Ø®Ø±Ù‰</option>
                        </select>
                    </div>
                    <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
                        <div class="upload-icon">ğŸ¨</div>
                        <div class="upload-text">
                            <h3>Ø§Ø³Ø­Ø¨ÙŠ Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø±ÙŠ Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</h3>
                            <p>Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: JPG, PNG (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10MB)</p>
                        </div>
                        <input type="file" id="fileInput" class="file-input" accept="image/jpeg,image/png" required>
                    </div>
                    <div class="preview-container" id="previewContainer">
                        <img id="imagePreview" class="image-preview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¹Ù…Ù„">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="margin-top: 30px;">
                        Ø¥Ø±Ø³Ø§Ù„ Ø¹Ù…Ù„ÙŠ Ø§Ù„ÙÙ†ÙŠ Ù„Ù„ØªÙ‚ÙŠÙŠÙ… âœ¨
                    </button>
                </form>
            </div>

            <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
            <div style="margin-top: 60px;">
                <h2 style="font-family: 'Amiri', serif; font-size: 32px; color: var(--primary); margin-bottom: 30px;">
                    Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ğŸ–¼ï¸
                </h2>
                <div class="artworks-grid" id="studentArtworks"></div>
            </div>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø© -->
    <div id="teacherDashboard" class="page">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-icon">ğŸ‘©â€ğŸ«</div>
                        <div class="logo-text">
                            <h1>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©</h1>
                            <p>Ø¥Ø¯Ø§Ø±Ø© ÙˆØªÙ‚ÙŠÙŠÙ… Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª</p>
                        </div>
                    </div>
                    <div class="user-info">
                        <div class="user-avatar">Ø£</div>
                        <div class="user-details">
                            <h3>Ø£. ÙØ§Ø·Ù…Ø© Ù…Ø­Ù…Ø¯</h3>
                            <p>Ù…Ø¹Ù„Ù…Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©</p>
                        </div>
                        <button class="logout-btn" onclick="goToTeacherHome()" style="margin-left: 10px;">
                            ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        </button>
                        <button class="logout-btn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
                    </div>
                </div>
            </div>
        </header>

        <div class="container main-content teacher-dashboard">
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“š</div>
                    <div class="stat-value" id="totalStudentWorks">0</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â³</div>
                    <div class="stat-value" id="pendingReviews">0</div>
                    <div class="stat-label">Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">âœ…</div>
                    <div class="stat-value" id="reviewedWorks">0</div>
                    <div class="stat-label">Ø£Ø¹Ù…Ø§Ù„ ØªÙ… ØªÙ‚ÙŠÙŠÙ…Ù‡Ø§</div>
                </div>
            </div>

            <div class="filter-bar">
                <div class="filter-group">
                    <label>Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…</label>
                    <input type="text" id="searchStudent" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ø·Ø§Ù„Ø¨Ø©...">
                </div>
                <div class="filter-group">
                    <label>ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØµÙ</label>
                    <select id="filterClass">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ</option>
                        <option value="10">Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø±</option>
                        <option value="11">Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±</option>
                        <option value="12">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</label>
                    <select id="filterStatus">
                        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                        <option value="pending">ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                        <option value="reviewed">ØªÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</option>
                    </select>
                </div>
            </div>

            <div id="teacherWorksList"></div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ -->
    <div id="artworkModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title" id="modalArtworkTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙÙ†ÙŠ</h2>
                <span class="close-modal" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalArtworkContent"></div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© (ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ØªØ³ØªØ¨Ø¯Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø­Ø§Ø¨ÙŠØ©)
        const DB = {
            students: JSON.parse(localStorage.getItem('students') || '[]'),
            teachers: JSON.parse(localStorage.getItem('teachers') || '[{"username":"Ù…Ø¹Ù„Ù…Ø©","password":"1234","fullName":"Ø£. ÙØ§Ø·Ù…Ø© Ù…Ø­Ù…Ø¯"}]'),
            artworks: JSON.parse(localStorage.getItem('artworks') || '[]'),
            aiEvaluations: JSON.parse(localStorage.getItem('aiEvaluations') || '[]'),
            teacherEvaluations: JSON.parse(localStorage.getItem('teacherEvaluations') || '[]'),
            comments: JSON.parse(localStorage.getItem('comments') || '[]'),
            certificates: JSON.parse(localStorage.getItem('certificates') || '[]'),
            
            save() {
                localStorage.setItem('students', JSON.stringify(this.students));
                localStorage.setItem('teachers', JSON.stringify(this.teachers));
                localStorage.setItem('artworks', JSON.stringify(this.artworks));
                localStorage.setItem('aiEvaluations', JSON.stringify(this.aiEvaluations));
                localStorage.setItem('teacherEvaluations', JSON.stringify(this.teacherEvaluations));
                localStorage.setItem('comments', JSON.stringify(this.comments));
                localStorage.setItem('certificates', JSON.stringify(this.certificates));
            }
        };

        let currentUser = null;
        let currentUserType = null; // 'student' or 'teacher'

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const fullName = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!fullName) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„');
                return;
            }

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ - Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø£Ùˆ username
            const teacher = DB.teachers.find(t => 
                (t.username === fullName || t.fullName === fullName || 
                 t.username.includes(fullName) || t.fullName.includes(fullName)) 
                && t.password === password
            );
            
            if (teacher) {
                currentUser = teacher;
                currentUserType = 'teacher';
                console.log('ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø¹Ù„Ù…Ø©:', teacher);
                showPage('teacherDashboard');
                loadTeacherDashboard();
                return;
            }

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„
            let student = DB.students.find(s => s.fullName === fullName || s.username === fullName);
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©ØŒ Ù†Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù‡Ø§
            if (!student) {
                student = {
                    id: Date.now(),
                    fullName: fullName,
                    classSection: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    username: fullName,
                    password: password,
                    createdAt: new Date().toISOString()
                };
                DB.students.push(student);
                DB.save();
                console.log('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø·Ø§Ù„Ø¨Ø© Ø¬Ø¯ÙŠØ¯:', student);
            }

            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            currentUser = student;
            currentUserType = 'student';
            console.log('ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø·Ø§Ù„Ø¨Ø©:', student);
            showPage('studentDashboard');
            loadStudentDashboard();
        });

        // Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const fullName = document.getElementById('regFullName').value;
            const classSection = document.getElementById('regClass').value;
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù†ÙØ³ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (DB.students.some(s => s.username === username)) {
                alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ø³Ù…Ø§Ù‹ Ø¢Ø®Ø±');
                return;
            }

            const newStudent = {
                id: Date.now(),
                fullName,
                classSection,
                username,
                password,
                createdAt: new Date().toISOString()
            };

            DB.students.push(newStudent);
            DB.save();

            alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰');
            showPage('loginPage');
            document.getElementById('registerForm').reset();
        });

        // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById('imagePreview').src = event.target.result;
                    document.getElementById('previewContainer').classList.add('active');
                };
                reader.readAsDataURL(file);
            }
        });

        // Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
        const uploadZone = document.getElementById('uploadZone');
        uploadZone.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
        });
        uploadZone.addEventListener('dragleave', function() {
            this.classList.remove('dragover');
        });
        uploadZone.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            if (file && (file.type === 'image/jpeg' || file.type === 'image/png')) {
                document.getElementById('fileInput').files = e.dataTransfer.files;
                const event = new Event('change');
                document.getElementById('fileInput').dispatchEvent(event);
            }
        });

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…
        document.getElementById('uploadForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const title = document.getElementById('artworkTitle').value || 'Ø¹Ù…Ù„ ÙÙ†ÙŠ';
            const lessonType = document.getElementById('lessonType').value;
            const imageFile = document.getElementById('fileInput').files[0];

            if (!imageFile) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©');
                return;
            }

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            progressBar.classList.add('active');

            for (let i = 0; i <= 100; i += 10) {
                await new Promise(resolve => setTimeout(resolve, 100));
                progressFill.style.width = i + '%';
            }

            // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ÙƒÙ€ base64
            const reader = new FileReader();
            reader.onload = async function(event) {
                const imageUrl = event.target.result;

                const artwork = {
                    id: Date.now(),
                    studentId: currentUser.id,
                    title,
                    lessonType,
                    imageUrl,
                    submissionDate: new Date().toISOString(),
                    status: 'submitted'
                };

                DB.artworks.push(artwork);
                
                // ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                const aiEval = await evaluateWithAI(artwork);
                DB.aiEvaluations.push(aiEval);
                
                artwork.status = 'ai-evaluated';
                DB.save();

                alert('ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø¹Ù…Ù„Ùƒ Ø§Ù„ÙÙ†ÙŠ Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ¬Ø§Ø±Ù ØªÙ‚ÙŠÙŠÙ…Ù‡ ğŸ¨');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('uploadForm').reset();
                document.getElementById('previewContainer').classList.remove('active');
                progressBar.classList.remove('active');
                progressFill.style.width = '0%';

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                loadStudentDashboard();
            };
            reader.readAsDataURL(imageFile);
        });

        // Ù…Ø­Ø§ÙƒØ§Ø© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function evaluateWithAI(artwork) {
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ API Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            await new Promise(resolve => setTimeout(resolve, 2000));

            const criteria = {
                artElements: Math.floor(Math.random() * 20) + 75,
                proportions: Math.floor(Math.random() * 20) + 75,
                composition: Math.floor(Math.random() * 20) + 75,
                lightShadow: Math.floor(Math.random() * 20) + 75,
                technicalSkill: Math.floor(Math.random() * 20) + 75,
                creativity: Math.floor(Math.random() * 20) + 80
            };

            const totalScore = Math.round(
                (criteria.artElements + criteria.proportions + criteria.composition + 
                 criteria.lightShadow + criteria.technicalSkill + criteria.creativity) / 6
            );

            const feedbacks = [
                'Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹ ÙŠØ¸Ù‡Ø± ÙÙ‡Ù…Ø§Ù‹ Ø¹Ù…ÙŠÙ‚Ø§Ù‹ Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙÙ†! ğŸŒŸ',
                'Ø£Ø­Ø³Ù†Øª ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙƒÙˆÙŠÙ† ÙˆØ§Ù„ØªÙˆØ§Ø²Ù† ÙÙŠ Ø§Ù„Ø¹Ù…Ù„',
                'Ù…Ù‡Ø§Ø±Ø§Øª ØªÙ‚Ù†ÙŠØ© Ù…Ù…ØªØ§Ø²Ø©ØŒ Ø§Ø³ØªÙ…Ø±ÙŠ ÙÙŠ Ø§Ù„ØªØ·ÙˆØ±',
                'Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ø¶Ø­ ÙÙŠ Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠØŒ Ø¬Ù…ÙŠÙ„ Ø¬Ø¯Ø§Ù‹!',
                'Ø§Ù„Ù†ÙÙ‘Ø³ÙØ¨ ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´ÙƒÙ„ÙŠ Ù…ØªÙ‚Ù†ØŒ Ø¹Ù…Ù„ Ø§Ø­ØªØ±Ø§ÙÙŠ'
            ];

            const feedback = feedbacks[Math.floor(Math.random() * feedbacks.length)] + ' ' +
                'Ù„Ø§Ø­Ø¸Øª Ø§Ù‡ØªÙ…Ø§Ù…Ø§Ù‹ Ø®Ø§ØµØ§Ù‹ Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙÙŠ Ø¹Ù…Ù„Ùƒ. ' +
                (totalScore >= 85 ? 'Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­ Ù†Ø­Ùˆ Ø§Ù„Ø¥ØªÙ‚Ø§Ù†! ğŸ¨' : 
                 'Ù‡Ù†Ø§Ùƒ Ù…Ø¬Ø§Ù„ Ù„Ù„ØªØ­Ø³ÙŠÙ† ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ØŒ ÙˆØ§ØµÙ„ÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±.');

            return {
                id: Date.now(),
                artworkId: artwork.id,
                ...criteria,
                totalScore,
                feedback,
                evaluatedAt: new Date().toISOString()
            };
        }

        // ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©
        function loadStudentDashboard() {
            document.getElementById('studentName').textContent = currentUser.fullName;
            document.getElementById('studentClass').textContent = currentUser.classSection;
            document.getElementById('studentAvatar').textContent = currentUser.fullName.charAt(0);

            const studentWorks = DB.artworks.filter(a => a.studentId === currentUser.id);
            document.getElementById('totalWorks').textContent = studentWorks.length;

            const evaluatedWorks = studentWorks.filter(w => w.status === 'ai-evaluated' || w.status === 'teacher-reviewed');
            const avgScore = evaluatedWorks.length > 0 
                ? Math.round(evaluatedWorks.reduce((sum, work) => {
                    const aiEval = DB.aiEvaluations.find(e => e.artworkId === work.id);
                    return sum + (aiEval ? aiEval.totalScore : 0);
                }, 0) / evaluatedWorks.length)
                : 0;
            document.getElementById('avgScore').textContent = avgScore + '%';

            const certs = DB.certificates.filter(c => c.studentId === currentUser.id);
            document.getElementById('certificates').textContent = certs.length;

            // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
            displayStudentArtworks();
        }

        // Ø¹Ø±Ø¶ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©
        function displayStudentArtworks() {
            const container = document.getElementById('studentArtworks');
            const works = DB.artworks.filter(a => a.studentId === currentUser.id).reverse();

            if (works.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ¨</div>
                        <div class="empty-state-text">Ù„Ù… ØªÙ‚ÙˆÙ…ÙŠ Ø¨Ø±ÙØ¹ Ø£ÙŠ Ø£Ø¹Ù…Ø§Ù„ ÙÙ†ÙŠØ© Ø¨Ø¹Ø¯</div>
                    </div>
                `;
                return;
            }

            container.innerHTML = works.map(work => {
                const aiEval = DB.aiEvaluations.find(e => e.artworkId === work.id);
                const teacherEval = DB.teacherEvaluations.find(e => e.artworkId === work.id);
                const lessonTypes = {
                    'portrait': 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡',
                    'still-life': 'Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©',
                    'landscape': 'Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ',
                    'abstract': 'ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ',
                    'calligraphy': 'Ø®Ø· Ø¹Ø±Ø¨ÙŠ',
                    'other': 'Ø£Ø®Ø±Ù‰'
                };

                return `
                    <div class="artwork-card" onclick="viewArtworkDetails(${work.id})">
                        <img src="${work.imageUrl}" alt="${work.title}" class="artwork-image">
                        <div class="artwork-content">
                            <div class="artwork-title">${work.title}</div>
                            <div class="artwork-meta">
                                <span class="lesson-tag">${lessonTypes[work.lessonType]}</span>
                                <span>${new Date(work.submissionDate).toLocaleDateString('ar-SA')}</span>
                            </div>
                            ${aiEval ? `
                                <div class="score-display">
                                    <div class="score-header">
                                        <span class="score-label">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
                                        <span class="total-score">${aiEval.totalScore}%</span>
                                    </div>
                                </div>
                            ` : '<div class="alert alert-info">Ø¬Ø§Ø±Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…...</div>'}
                            ${teacherEval ? `
                                <div style="background: var(--bg-light); padding: 15px; border-radius: 12px; margin-top: 15px;">
                                    <div style="font-weight: 700; color: var(--primary); margin-bottom: 5px;">
                                        ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ${teacherEval.score}%
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙÙ†ÙŠ
        function viewArtworkDetails(artworkId) {
            const work = DB.artworks.find(a => a.id === artworkId);
            const aiEval = DB.aiEvaluations.find(e => e.artworkId === artworkId);
            const teacherEval = DB.teacherEvaluations.find(e => e.artworkId === artworkId);
            const comments = DB.comments.filter(c => c.artworkId === artworkId);

            const lessonTypes = {
                'portrait': 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡',
                'still-life': 'Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©',
                'landscape': 'Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ',
                'abstract': 'ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ',
                'calligraphy': 'Ø®Ø· Ø¹Ø±Ø¨ÙŠ',
                'other': 'Ø£Ø®Ø±Ù‰'
            };

            let content = `
                <img src="${work.imageUrl}" style="width: 100%; border-radius: 16px; margin-bottom: 25px;">
                
                <div class="info-row">
                    <span class="info-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                    <span class="info-value">${work.title}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø³:</span>
                    <span class="info-value">${lessonTypes[work.lessonType]}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¹:</span>
                    <span class="info-value">${new Date(work.submissionDate).toLocaleDateString('ar-SA')}</span>
                </div>
            `;

            if (aiEval) {
                content += `
                    <div class="score-display" style="margin-top: 30px;">
                        <div class="score-header">
                            <span class="score-label">ğŸ¤– ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
                            <span class="total-score">${aiEval.totalScore}%</span>
                        </div>
                        
                        <div class="criteria-grid">
                            <div class="criterion">
                                <div class="criterion-name">Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙÙ†</div>
                                <div class="criterion-score">${aiEval.artElements}%</div>
                            </div>
                            <div class="criterion">
                                <div class="criterion-name">Ø§Ù„Ù†ÙÙ‘Ø³ÙØ¨ ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡</div>
                                <div class="criterion-score">${aiEval.proportions}%</div>
                            </div>
                            <div class="criterion">
                                <div class="criterion-name">Ø§Ù„ØªÙƒÙˆÙŠÙ† ÙˆØ§Ù„ØªÙˆØ§Ø²Ù†</div>
                                <div class="criterion-score">${aiEval.composition}%</div>
                            </div>
                            <div class="criterion">
                                <div class="criterion-name">Ø§Ù„Ø¶ÙˆØ¡ ÙˆØ§Ù„Ø¸Ù„</div>
                                <div class="criterion-score">${aiEval.lightShadow}%</div>
                            </div>
                            <div class="criterion">
                                <div class="criterion-name">Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„ØªÙ‚Ù†ÙŠØ©</div>
                                <div class="criterion-score">${aiEval.technicalSkill}%</div>
                            </div>
                            <div class="criterion">
                                <div class="criterion-name">Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„ØªØ¹Ø¨ÙŠØ±</div>
                                <div class="criterion-score">${aiEval.creativity}%</div>
                            </div>
                        </div>
                    </div>

                    <div class="feedback-section">
                        <div class="feedback-title">ğŸ’¬ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©</div>
                        <div class="feedback-text">${aiEval.feedback}</div>
                    </div>
                `;
            }

            if (teacherEval) {
                content += `
                    <div class="feedback-section" style="background: linear-gradient(135deg, rgba(123, 160, 91, 0.1), rgba(212, 165, 116, 0.1)); border-right-color: var(--success);">
                        <div class="feedback-title">ğŸ‘©â€ğŸ« ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ${teacherEval.score}%</div>
                        <div class="feedback-text">${teacherEval.notes}</div>
                    </div>
                `;
            }

            // Ù‚Ø³Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª
            if (currentUserType === 'student') {
                content += `
                    <div class="comments-section">
                        <h3 style="font-family: 'Amiri', serif; font-size: 24px; color: var(--primary); margin-bottom: 20px;">
                            ğŸ’¬ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ø²Ù…ÙŠÙ„Ø§Øª
                        </h3>
                        
                        <div class="guidelines">
                            <h4>ğŸ“ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ‚</h4>
                            <ul>
                                <li>ÙƒÙˆÙ†ÙŠ Ù…Ø´Ø¬Ø¹Ø© ÙˆÙ…Ø­ÙØ²Ø©</li>
                                <li>Ù‚Ø¯Ù…ÙŠ Ù†ØµÙŠØ­Ø© Ø¨Ù†Ø§Ø¡Ø© ÙˆÙ…ÙÙŠØ¯Ø©</li>
                                <li>ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ø¬Ø§Ø±Ø­ Ø£Ùˆ Ø§Ù„Ø³Ù„Ø¨ÙŠ</li>
                            </ul>
                        </div>

                        <div class="comment-form">
                            <textarea id="commentText" placeholder="Ø§ÙƒØªØ¨ÙŠ ØªØ¹Ù„ÙŠÙ‚Ø§Ù‹ Ù…Ø´Ø¬Ø¹Ø§Ù‹..."></textarea>
                            <button class="btn btn-primary" style="margin-top: 15px;" onclick="addComment(${artworkId})">
                                Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚ ğŸ’¬
                            </button>
                        </div>

                        <div id="commentsList">
                            ${comments.map(c => `
                                <div class="comment-item">
                                    <div class="comment-header">
                                        <span class="comment-author">${c.studentName}</span>
                                        <span class="comment-date">${new Date(c.date).toLocaleDateString('ar-SA')}</span>
                                    </div>
                                    <div class="comment-text">${c.text}</div>
                                </div>
                            `).join('') || '<p style="text-align: center; color: var(--text-medium); padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¹Ø¯</p>'}
                        </div>
                    </div>
                `;
            }

            document.getElementById('modalArtworkTitle').textContent = work.title;
            document.getElementById('modalArtworkContent').innerHTML = content;
            document.getElementById('artworkModal').classList.add('active');
        }

        // Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚
        function addComment(artworkId) {
            const text = document.getElementById('commentText').value.trim();
            if (!text) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© ØªØ¹Ù„ÙŠÙ‚');
                return;
            }

            const comment = {
                id: Date.now(),
                artworkId,
                studentName: currentUser.fullName,
                text,
                date: new Date().toISOString(),
                isFlagged: false
            };

            DB.comments.push(comment);
            DB.save();

            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸ’¬');
            viewArtworkDetails(artworkId); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
        }

        // ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©
        function loadTeacherDashboard() {
            const allWorks = DB.artworks;
            document.getElementById('totalStudentWorks').textContent = allWorks.length;

            const pending = allWorks.filter(w => w.status === 'ai-evaluated').length;
            document.getElementById('pendingReviews').textContent = pending;

            const reviewed = allWorks.filter(w => w.status === 'teacher-reviewed').length;
            document.getElementById('reviewedWorks').textContent = reviewed;

            displayTeacherWorks();
        }

        // Ø¹Ø±Ø¶ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ù„Ù„Ù…Ø¹Ù„Ù…Ø©
        function displayTeacherWorks() {
            const container = document.getElementById('teacherWorksList');
            const works = DB.artworks.slice().reverse();

            if (works.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“š</div>
                        <div class="empty-state-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¹Ù…Ø§Ù„ Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ø¯</div>
                    </div>
                `;
                return;
            }

            container.innerHTML = works.map(work => {
                const student = DB.students.find(s => s.id === work.studentId);
                const aiEval = DB.aiEvaluations.find(e => e.artworkId === work.id);
                const teacherEval = DB.teacherEvaluations.find(e => e.artworkId === work.id);
                
                const lessonTypes = {
                    'portrait': 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡',
                    'still-life': 'Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©',
                    'landscape': 'Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ',
                    'abstract': 'ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ',
                    'calligraphy': 'Ø®Ø· Ø¹Ø±Ø¨ÙŠ',
                    'other': 'Ø£Ø®Ø±Ù‰'
                };

                return `
                    <div class="student-work-card">
                        <div class="work-header">
                            <div class="work-image-container">
                                <img src="${work.imageUrl}" alt="${work.title}" class="work-image">
                            </div>
                            <div class="work-info">
                                <h3>${work.title}</h3>
                                <div class="info-row">
                                    <span class="info-label">Ø§Ù„Ø·Ø§Ù„Ø¨Ø©:</span>
                                    <span class="info-value">${student.fullName}</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Ø§Ù„ØµÙ:</span>
                                    <span class="info-value">${student.classSection}</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø³:</span>
                                    <span class="info-value">${lessonTypes[work.lessonType]}</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                                    <span class="info-value">${new Date(work.submissionDate).toLocaleDateString('ar-SA')}</span>
                                </div>
                                ${aiEval ? `
                                    <div class="info-row">
                                        <span class="info-label">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:</span>
                                        <span class="info-value" style="font-size: 20px; font-weight: 700; color: var(--primary);">
                                            ${aiEval.totalScore}%
                                        </span>
                                    </div>
                                ` : ''}
                            </div>
                        </div>

                        ${aiEval ? `
                            <div class="score-display">
                                <h4 style="margin-bottom: 15px; color: var(--primary);">ØªÙØ§ØµÙŠÙ„ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h4>
                                <div class="criteria-grid">
                                    <div class="criterion">
                                        <div class="criterion-name">Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙÙ†</div>
                                        <div class="criterion-score">${aiEval.artElements}%</div>
                                    </div>
                                    <div class="criterion">
                                        <div class="criterion-name">Ø§Ù„Ù†ÙÙ‘Ø³ÙØ¨ ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡</div>
                                        <div class="criterion-score">${aiEval.proportions}%</div>
                                    </div>
                                    <div class="criterion">
                                        <div class="criterion-name">Ø§Ù„ØªÙƒÙˆÙŠÙ† ÙˆØ§Ù„ØªÙˆØ§Ø²Ù†</div>
                                        <div class="criterion-score">${aiEval.composition}%</div>
                                    </div>
                                    <div class="criterion">
                                        <div class="criterion-name">Ø§Ù„Ø¶ÙˆØ¡ ÙˆØ§Ù„Ø¸Ù„</div>
                                        <div class="criterion-score">${aiEval.lightShadow}%</div>
                                    </div>
                                    <div class="criterion">
                                        <div class="criterion-name">Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„ØªÙ‚Ù†ÙŠØ©</div>
                                        <div class="criterion-score">${aiEval.technicalSkill}%</div>
                                    </div>
                                    <div class="criterion">
                                        <div class="criterion-name">Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ù„ØªØ¹Ø¨ÙŠØ±</div>
                                        <div class="criterion-score">${aiEval.creativity}%</div>
                                    </div>
                                </div>
                                <div class="feedback-section">
                                    <div class="feedback-title">ğŸ’¬ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
                                    <div class="feedback-text">${aiEval.feedback}</div>
                                </div>
                            </div>
                        ` : ''}

                        <div class="teacher-evaluation-form">
                            <h4 style="font-family: 'Amiri', serif; font-size: 24px; color: var(--primary); margin-bottom: 20px;">
                                ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©
                            </h4>
                            
                            <div class="form-group">
                                <label>Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (%)</label>
                                <input type="number" id="teacherScore-${work.id}" min="0" max="100" 
                                    value="${teacherEval ? teacherEval.score : (aiEval ? aiEval.totalScore : 85)}" 
                                    style="font-size: 18px; font-weight: 700; color: var(--primary);">
                            </div>

                            <div class="quick-notes">
                                <button class="quick-note-btn" onclick="addQuickNote(${work.id}, 'Ø¹Ù…Ù„ Ù…Ù…ØªØ§Ø²ØŒ Ø£Ø­Ø³Ù†Øª!')">Ø¹Ù…Ù„ Ù…Ù…ØªØ§Ø²</button>
                                <button class="quick-note-btn" onclick="addQuickNote(${work.id}, 'ØªÙ‚Ù†ÙŠØ© Ø±Ø§Ø¦Ø¹Ø©')">ØªÙ‚Ù†ÙŠØ© Ø±Ø§Ø¦Ø¹Ø©</button>
                                <button class="quick-note-btn" onclick="addQuickNote(${work.id}, 'Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ø¶Ø­')">Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ§Ø¶Ø­</button>
                                <button class="quick-note-btn" onclick="addQuickNote(${work.id}, 'Ø¨Ø­Ø§Ø¬Ø© Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„')">ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
                                <button class="quick-note-btn" onclick="addQuickNote(${work.id}, 'ÙˆØ§ØµÙ„ÙŠ Ø§Ù„ØªØ·ÙˆØ±')">ÙˆØ§ØµÙ„ÙŠ Ø§Ù„ØªØ·ÙˆØ±</button>
                            </div>

                            <div class="form-group">
                                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©</label>
                                <textarea id="teacherNotes-${work.id}" rows="4" 
                                    placeholder="Ø§ÙƒØªØ¨ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ ÙˆØªÙˆØ¬ÙŠÙ‡Ø§ØªÙƒ Ù„Ù„Ø·Ø§Ù„Ø¨Ø©...">${teacherEval ? teacherEval.notes : ''}</textarea>
                            </div>

                            <button class="btn btn-primary" onclick="saveTeacherEvaluation(${work.id})">
                                ${teacherEval ? 'ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…' : 'Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…'} âœ…
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø³Ø±ÙŠØ¹Ø©
        function addQuickNote(artworkId, note) {
            const textarea = document.getElementById(`teacherNotes-${artworkId}`);
            if (textarea.value.trim()) {
                textarea.value += '\nâ€¢ ' + note;
            } else {
                textarea.value = 'â€¢ ' + note;
            }
        }

        // Ø­ÙØ¸ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¹Ù„Ù…Ø©
        function saveTeacherEvaluation(artworkId) {
            const score = parseInt(document.getElementById(`teacherScore-${artworkId}`).value);
            const notes = document.getElementById(`teacherNotes-${artworkId}`).value.trim();

            if (!notes) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„Ø·Ø§Ù„Ø¨Ø©');
                return;
            }

            if (score < 0 || score > 100) {
                alert('Ø§Ù„Ø¯Ø±Ø¬Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨ÙŠÙ† 0 Ùˆ 100');
                return;
            }

            const existingEval = DB.teacherEvaluations.findIndex(e => e.artworkId === artworkId);
            const evaluation = {
                id: existingEval >= 0 ? DB.teacherEvaluations[existingEval].id : Date.now(),
                artworkId,
                score,
                notes,
                date: new Date().toISOString()
            };

            if (existingEval >= 0) {
                DB.teacherEvaluations[existingEval] = evaluation;
            } else {
                DB.teacherEvaluations.push(evaluation);
            }

            const artwork = DB.artworks.find(a => a.id === artworkId);
            artwork.status = 'teacher-reviewed';

            // Ø¥ØµØ¯Ø§Ø± Ø´Ù‡Ø§Ø¯Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¯Ø±Ø¬Ø© Ù…Ù…ØªØ§Ø²Ø©
            if (score >= 90) {
                const student = DB.students.find(s => s.id === artwork.studentId);
                const existingCert = DB.certificates.find(c => c.artworkId === artworkId);
                
                if (!existingCert) {
                    DB.certificates.push({
                        id: Date.now(),
                        studentId: artwork.studentId,
                        artworkId,
                        issueDate: new Date().toISOString(),
                        type: 'excellence'
                    });
                    alert(`ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆØ¥ØµØ¯Ø§Ø± Ø´Ù‡Ø§Ø¯Ø© ØªÙ…ÙŠØ² Ù„Ù„Ø·Ø§Ù„Ø¨Ø© ${student.fullName}! ğŸ†`);
                } else {
                    alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­! âœ…');
                }
            } else {
                alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­! âœ…');
            }

            DB.save();
            loadTeacherDashboard();
        }

        // Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            currentUser = null;
            currentUserType = null;
            showPage('loginPage');
        }

        // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨Ø©
        function goToStudentHome() {
            closeModal();
            if (currentUserType === 'student') {
                loadStudentDashboard();
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø¹Ù„Ù…Ø©
        function goToTeacherHome() {
            closeModal();
            if (currentUserType === 'teacher') {
                loadTeacherDashboard();
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        function closeModal() {
            document.getElementById('artworkModal').classList.remove('active');
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.getElementById('artworkModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        function initDemoData() {
            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙÙ‚Ø·
            if (DB.teachers.length === 0) {
                DB.teachers = [{
                    username: 'Ù…Ø¹Ù„Ù…Ø©',
                    password: '1234',
                    fullName: 'Ø£. ÙØ§Ø·Ù…Ø© Ù…Ø­Ù…Ø¯'
                }];
                DB.save();
            }

            // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ø¹Ø±Ø¶ ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙ…ÙƒÙ† Ø­Ø°ÙÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)
            if (DB.students.length === 0 && DB.artworks.length === 0) {
                // Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                const demoStudent = {
                    id: 1,
                    fullName: 'Ù…Ø±ÙŠÙ… Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
                    classSection: 'Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø± - Ø£',
                    username: 'Ù…Ø±ÙŠÙ… Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
                    password: '123456',
                    createdAt: new Date().toISOString()
                };
                DB.students.push(demoStudent);

                // Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ ÙÙ†ÙŠ ØªØ¬Ø±ÙŠØ¨ÙŠ
                const demoArtwork = {
                    id: Date.now(),
                    studentId: 1,
                    title: 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡ ØªØ¬Ø±ÙŠØ¨ÙŠ',
                    lessonType: 'portrait',
                    imageUrl: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="400"%3E%3Crect fill="%23f5f0e8" width="400" height="400"/%3E%3Ctext x="50%25" y="50%25" font-size="20" text-anchor="middle" fill="%238B4566" font-family="Arial"%3EØ¹Ù…Ù„ ÙÙ†ÙŠ ØªØ¬Ø±ÙŠØ¨ÙŠ%3C/text%3E%3C/svg%3E',
                    submissionDate: new Date().toISOString(),
                    status: 'ai-evaluated'
                };
                DB.artworks.push(demoArtwork);

                // Ø¥Ø¶Ø§ÙØ© ØªÙ‚ÙŠÙŠÙ… Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ØªØ¬Ø±ÙŠØ¨ÙŠ
                const demoAiEval = {
                    id: Date.now(),
                    artworkId: demoArtwork.id,
                    artElements: 85,
                    proportions: 88,
                    composition: 90,
                    lightShadow: 82,
                    technicalSkill: 87,
                    creativity: 92,
                    totalScore: 87,
                    feedback: 'Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹ ÙŠØ¸Ù‡Ø± ÙÙ‡Ù…Ø§Ù‹ Ø¹Ù…ÙŠÙ‚Ø§Ù‹ Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙÙ†! ğŸŒŸ Ø£Ø­Ø³Ù†Øª ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙƒÙˆÙŠÙ† ÙˆØ§Ù„ØªÙˆØ§Ø²Ù† ÙÙŠ Ø§Ù„Ø¹Ù…Ù„',
                    evaluatedAt: new Date().toISOString()
                };
                DB.aiEvaluations.push(demoAiEval);

                DB.save();
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', function() {
            initDemoData();
            loadPublicGallery(); // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
        });

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù…
        function resetSystem() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯Ø© Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!')) {
                localStorage.clear();
                location.reload();
            }
        }

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³Ù„Ø³ Ù„Ù‚Ø³Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function scrollToLogin() {
            document.getElementById('loginSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³Ù„Ø³ Ù„Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
        function scrollToGallery() {
            document.getElementById('gallerySection').scrollIntoView({ behavior: 'smooth' });
        }

        // ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…
        function loadPublicGallery() {
            const container = document.getElementById('publicGallery');
            const emptyState = document.getElementById('emptyGallery');
            
            // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ù‚ÙŠÙ…Ø©
            const allArtworks = DB.artworks.filter(a => a.status !== 'submitted').reverse();

            if (allArtworks.length === 0) {
                container.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }

            container.style.display = 'grid';
            emptyState.style.display = 'none';

            container.innerHTML = allArtworks.map(work => {
                const student = DB.students.find(s => s.id === work.studentId);
                const aiEval = DB.aiEvaluations.find(e => e.artworkId === work.id);
                const comments = DB.comments.filter(c => c.artworkId === work.id);
                
                const lessonTypes = {
                    'portrait': 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡',
                    'still-life': 'Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©',
                    'landscape': 'Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ',
                    'abstract': 'ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ',
                    'calligraphy': 'Ø®Ø· Ø¹Ø±Ø¨ÙŠ',
                    'other': 'Ø£Ø®Ø±Ù‰'
                };

                return `
                    <div class="artwork-card" onclick="viewPublicArtwork(${work.id})">
                        <img src="${work.imageUrl}" alt="${work.title}" class="artwork-image">
                        <div class="artwork-content">
                            <div class="artwork-title">${work.title}</div>
                            <div style="font-size: 14px; color: var(--text-medium); margin-bottom: 10px;">
                                Ø¨ÙˆØ§Ø³Ø·Ø©: <strong>${student ? student.fullName : 'Ø·Ø§Ù„Ø¨Ø©'}</strong>
                            </div>
                            <div class="artwork-meta">
                                <span class="lesson-tag">${lessonTypes[work.lessonType]}</span>
                                <span>${new Date(work.submissionDate).toLocaleDateString('ar-SA')}</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #E8E4DC;">
                                <span style="color: var(--text-medium); font-size: 14px;">
                                    ğŸ’¬ ${comments.length} ØªØ¹Ù„ÙŠÙ‚
                                </span>
                                ${aiEval ? `
                                    <span style="color: var(--primary); font-size: 14px; font-weight: 700; margin-right: auto;">
                                        â­ ${aiEval.totalScore}%
                                    </span>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙÙ†ÙŠ ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø§Ù…
        function viewPublicArtwork(artworkId) {
            const work = DB.artworks.find(a => a.id === artworkId);
            const student = DB.students.find(s => s.id === work.studentId);
            const aiEval = DB.aiEvaluations.find(e => e.artworkId === artworkId);
            const comments = DB.comments.filter(c => c.artworkId === artworkId);

            const lessonTypes = {
                'portrait': 'Ø¨ÙˆØ±ØªØ±ÙŠÙ‡',
                'still-life': 'Ø·Ø¨ÙŠØ¹Ø© ØµØ§Ù…ØªØ©',
                'landscape': 'Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ',
                'abstract': 'ÙÙ† ØªØ¬Ø±ÙŠØ¯ÙŠ',
                'calligraphy': 'Ø®Ø· Ø¹Ø±Ø¨ÙŠ',
                'other': 'Ø£Ø®Ø±Ù‰'
            };

            let content = `
                <img src="${work.imageUrl}" style="width: 100%; border-radius: 16px; margin-bottom: 25px; box-shadow: 0 8px 32px var(--shadow);">
                
                <div style="text-align: center; margin-bottom: 30px;">
                    <h3 style="font-family: 'Amiri', serif; font-size: 28px; color: var(--primary); margin-bottom: 10px;">
                        ${work.title}
                    </h3>
                    <p style="font-size: 16px; color: var(--text-medium);">
                        Ø¨ÙˆØ§Ø³Ø·Ø©: <strong style="color: var(--primary);">${student ? student.fullName : 'Ø·Ø§Ù„Ø¨Ø©'}</strong>
                    </p>
                    <div style="display: flex; gap: 15px; justify-content: center; align-items: center; margin-top: 15px;">
                        <span class="lesson-tag">${lessonTypes[work.lessonType]}</span>
                        <span style="color: var(--text-medium);">${new Date(work.submissionDate).toLocaleDateString('ar-SA')}</span>
                    </div>
                </div>

                ${aiEval ? `
                    <div style="background: linear-gradient(135deg, rgba(139, 69, 102, 0.05), rgba(107, 139, 126, 0.05)); padding: 20px; border-radius: 16px; text-align: center; margin-bottom: 30px;">
                        <div style="font-size: 14px; color: var(--text-medium); margin-bottom: 5px;">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
                        <div style="font-size: 48px; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                            ${aiEval.totalScore}%
                        </div>
                    </div>
                ` : ''}

                <div class="comments-section">
                    <h3 style="font-family: 'Amiri', serif; font-size: 24px; color: var(--primary); margin-bottom: 20px;">
                        ğŸ’¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª (${comments.length})
                    </h3>
                    
                    <div class="guidelines" style="margin-bottom: 25px;">
                        <h4>ğŸŒŸ ØªØ°ÙƒØ±ÙŠ: Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø¨Ù†Ø§Ø¡</h4>
                        <ul>
                            <li>ÙƒÙˆÙ†ÙŠ Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙˆÙ…Ø´Ø¬Ø¹Ø©</li>
                            <li>Ø§Ø¨Ø¯Ø¦ÙŠ Ø¨Ù…Ø§ Ø£Ø¹Ø¬Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„</li>
                            <li>Ù‚Ø¯Ù…ÙŠ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙˆÙ„ÙŠØ³ Ø§Ù†ØªÙ‚Ø§Ø¯Ø§Øª</li>
                        </ul>
                    </div>

                    <div class="comment-form">
                        <textarea id="publicCommentText" placeholder="Ø´Ø§Ø±ÙƒÙŠ Ø±Ø£ÙŠÙƒ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø§Ø¦Ø¹..." style="min-height: 120px;"></textarea>
                        <input type="text" id="publicCommenterName" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" style="margin-top: 15px;" required>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="addPublicComment(${artworkId})">
                            Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚ ğŸ’¬
                        </button>
                    </div>

                    <div id="publicCommentsList">
                        ${comments.map(c => `
                            <div class="comment-item">
                                <div class="comment-header">
                                    <span class="comment-author">${c.studentName}</span>
                                    <span class="comment-date">${new Date(c.date).toLocaleDateString('ar-SA')}</span>
                                </div>
                                <div class="comment-text">${c.text}</div>
                            </div>
                        `).join('') || '<p style="text-align: center; color: var(--text-medium); padding: 30px;">ÙƒÙˆÙ†ÙŠ Ø£ÙˆÙ„ Ù…Ù† ÙŠØ¹Ù„Ù‚ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø§Ø¦Ø¹! âœ¨</p>'}
                    </div>
                </div>
            `;

            document.getElementById('modalArtworkTitle').textContent = work.title;
            document.getElementById('modalArtworkContent').innerHTML = content;
            document.getElementById('artworkModal').classList.add('active');
        }

        // Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚ ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø§Ù…
        function addPublicComment(artworkId) {
            const text = document.getElementById('publicCommentText').value.trim();
            const name = document.getElementById('publicCommenterName').value.trim();
            
            if (!text) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© ØªØ¹Ù„ÙŠÙ‚');
                return;
            }
            
            if (!name) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…Ùƒ');
                return;
            }

            const comment = {
                id: Date.now(),
                artworkId,
                studentName: name,
                text,
                date: new Date().toISOString(),
                isFlagged: false
            };

            DB.comments.push(comment);
            DB.save();

            alert('Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ø§Ù„Ø¨Ù†Ø§Ø¡! ğŸ’¬âœ¨');
            viewPublicArtwork(artworkId); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            loadPublicGallery(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø±Ø¶
        }
    </script>
</body>
</html>
